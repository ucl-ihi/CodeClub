<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>The Art of Asking</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <script src="libs/kePrint/kePrint.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# The Art of Asking
## Workshop Series<br/>S01 E02
### 2019/08/22

---






.pull-left[
# Scenario

- You have a problem and you need external help

- You don't know how to ask

- You don't know where to ask

- You don't know how to turn your problem into a good question

]
--
.pull-right[
  ![](meme.png)
  
]

---
# Outline
.large[
1. Find the problem

1. Define the question

1. Asking for help
  - Where to go
  
  - How to present the question
  
]  

---
# Case Study

Patricia üë© is a 28(-ish) year old PhD student from Australia üá¶üá∫.
She is trying¬†to create a function in _R_ to¬†perform a _last observation carried forward_ (LOCF) imputation on CPRD data that takes account of how long ago the last observation was recorded.
She has tried some code she found on the Internet, which works but _"is taking too long"_¬†so she¬†sent her script to a post-doc in her lab, Dr. Tonie Alexandra ü§ì.
Tonie is cool and _R-savvy_, but unfortunately (s)he is unable to reproduce Patricia's output üò¢.

.footnote[
_This is a work of fiction. Any similarity to actual persons, living or dead, or actual events, is purely coincidental._
]
---
### This is how Patricia's script looks like

.scroll-box-20[

```r
library(tibble)
library(lubridate)
library(zoo)
library(testthat)

locf_window &lt;- function(x, by, date, window, unit = "hours") {
    # Perform last observation carried forward (LOCF) based on the time
    # difference to the last measured observation. Allow for stratification by
    # identifier (e.g.patient ID) Parameters x : character or numeric vector of
    # measurements on which to perform LOCF by : character or numeric vector
    # indicating the group to stratify by date : datetime vector of times at
    # which the value in 'x' was attempted to be measured.  window : numeric
    # length of the time window units : character units of the time window
    
    if (is.character(x)) {
        placeholder &lt;- "-Infinity"
    } else if (is.numeric(x)) {
        placeholder &lt;- -Inf
    } else {
        stop("vector 'x' must either be character or numeric")
    }
    
    x &lt;- if_else(is.na(x) &amp; by != lag(by), placeholder, x)
    date_measure &lt;- as_datetime(ifelse(!is.na(x), date, NA))
    date_measure &lt;- zoo::na.locf(date_measure)
    n_measure &lt;- unlist(tapply(!is.na(x), by, cumsum))
    date_measure &lt;- as_datetime(ifelse(n_measure != 0, date_measure, NA))
    
    x &lt;- if_else(is.na(x) &amp; !is.na(date_measure) &amp; time_length(lag(date_measure) %--% 
        date, unit = unit) &lt; window, zoo::na.locf(x, na.rm = FALSE), x, x)
    x[x == placeholder] &lt;- NA
    x
}

test_locf &lt;- tribble(~patid, ~start_date, ~value, 1, ymd_hms("2010-01-05 12:00:00"), 
    5, 1, ymd_hms("2010-01-05 13:00:00"), NA, 1, ymd_hms("2010-01-05 15:59:59"), 
    NA, 1, ymd_hms("2010-01-05 17:00:00"), NA, 1, ymd_hms("2010-01-05 18:00:00"), 
    10, 2, ymd_hms("2010-01-05 13:00:00"), NA, 2, ymd_hms("2010-01-05 14:00:00"), 
    NA, 2, ymd_hms("2010-01-05 15:00:00"), 2, 2, ymd_hms("2010-01-05 15:31:01"), 
    NA, 2, ymd_hms("2010-01-06 16:00:00"), NA) %&gt;% as.data.table()

with(test_locf, {
    expect_identical(locf_window(value, start_date, 4, by = patid), c(5, 5, 
        5, NA, 10, NA, NA, 2, 2, NA))
    expect_error(locf_window(list(2), ymd_hms("2010-01-06 16:00:00"), 4, by = patid))
})
```
]

---
class: center
background-image: url(https://media1.tenor.com/images/242ad7ff116d66f6913992fe2a4d6c31/tenor.gif?itemid=7666840)

# What is the Problem?

---
## Step 1: .blue2[Find the Problem]

--

Patricia üë© is a 28(-ish) year old PhD student from Australia üá¶üá∫.
She is trying¬†to create a function in _R_ to¬†perform a _last observation carried forward_ (LOCF) imputation on CPRD data that takes account of how long ago the last observation was recorded.
She has tried some code she found on the Internet, which works but _"is taking too long"_¬†so she¬†sent her script to a post-doc in her lab, Dr. Tonie Alexandra ü§ì.
Tonie is cool and _R-savvy_, but unfortunately (s)he is unable to reproduce Patricia's output üò¢.

.footnote[
_This is a work of fiction. Any similarity to actual persons, living or dead, or actual events, is purely coincidental._
]

---
## Step 1: .blue2[Find the Problem]

.translucent[Patricia üë© is a 28(-ish) year old PhD student from Australia üá¶üá∫. She is trying¬†to create a] .violet[function in _R_] .translucent[to¬†perform a] .violet[_last observation carried forward_ (LOCF)] .translucent[imputation on CPRD data that] .violet[takes account of how long ago the last observation was recorded]
.translucent[. She has tried some code she found on the Internet, which works but _"is taking too long"_¬†so she¬†sent her script to a post-doc in her lab, Dr. Tonie Alexandra ü§ì. Tonie is cool and _R-savvy_, but unfortunately (s)he is unable to reproduce Patricia's output üò¢.]
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
#### .violet[Main objective]
.footnote[
_This is a work of fiction. Any similarity to actual persons, living or dead, or actual events, is purely coincidental._
]
---
## Step 1: .blue2[Find the Problem]

.translucent[Patricia üë© is a 28(-ish) year old PhD student from Australia üá¶üá∫. She is trying¬†to create a] .violet[function in _R_] .translucent[to¬†perform a] .violet[_last observation carried forward_ (LOCF)] .translucent[imputation on CPRD data that] .violet[takes account of how long ago the last observation was recorded]
.translucent[. She has tried some]
.green[code she found on the Internet]
.translucent[, which works but _"is taking too long"_¬†so she¬†sent her script to a post-doc in her lab, Dr. Tonie Alexandra ü§ì. Tonie is cool and _R-savvy_, but unfortunately (s)he is]
.green[unable to reproduce Patricia's output]
.translucent[üò¢.]
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

**.violet[Main objective]** &amp;emsp;
**.green[Secondary problem]**

.footnote[
_This is a work of fiction. Any similarity to actual persons, living or dead, or actual events, is purely coincidental._
]
---
## Step 1: .blue2[Find the Problem]

.translucent[Patricia üë© is a 28(-ish) year old PhD student from Australia üá¶üá∫. She is trying¬†to create a] .violet[function in _R_] .translucent[to¬†perform a] .violet[_last observation carried forward_ (LOCF)] .translucent[imputation on CPRD data that] .violet[takes account of how long ago the last observation was recorded]
.translucent[. She has tried some]
.green[code she found on the Internet]
.translucent[, which ]
.red[works but _"is taking too long"_¬†]
.translucent[so she¬†sent her script to a post-doc in her lab, Dr. Tonie Alexandra ü§ì. Tonie is cool and _R-savvy_, but unfortunately (s)he is]
.green[unable to reproduce Patricia's output]
.translucent[üò¢.]
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

**.violet[Main objective]** &amp;emsp;
**.green[Secondary problem]** &amp;emsp;
**.red[Main problem]**

.footnote[
_This is a work of fiction. Any similarity to actual persons, living or dead, or actual events, is purely coincidental._
]
--
.center[### OPTIMIZATION PROBLEM ‚è≥]

---
## Step 2: .blue2[Define the Question]

--

#### Common types of problems:

+ Programming (e.g. bugs, error messages, runtime, language-specific syntaxes)

+ Methods (e.g. stats, maths, models)

+ Domain-specific (e.g. EHR, Genetics, Epidemiology)

+ Tools / software (e.g. Git, packages / libraries)

+ Infrastructure / hardware (e.g. Data Safe Haven, HPC cluster, memory issues)

+ General question (e.g. Where can I learn more about Python?)

---
## Step 3: .blue2[Asking for Help]
### Where to go

--

.pull-left[
  &lt;img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png" height="60px" /&gt;
  
  _No. 1 search engine_
  
  &lt;br/&gt;
  &lt;img src="CodeClub_ver2_darkblue.png" width="160px" height="80px" /&gt;
  
  _No. 1 Q&amp;A page in IHI_

  [github.com/ucl-ihi/CodeClub/issues](https://github.com/ucl-ihi/CodeClub/issues)
  
]

.pull-right[
  &lt;img src="https://cdn.sstatic.net/Sites/stackoverflow/company/img/logos/so/so-logo.svg?v=a010291124bf" height="60px" /&gt;

_the largest Q&amp;A site for programmers_

&lt;br/&gt;
## &amp;#x1F468;&amp;#x200D;&amp;#x1F4BB; &amp;#x1F469;&amp;#x200D;&amp;#x1F4BB; &amp;#x1F468;&amp;#x200D;&amp;#x1F4BB; &amp;#x1F469;&amp;#x200D;&amp;#x1F4BB;

_Colleagues, supervisor, fellow academics, friends (if any)_
]

???
Google and real person are not documented -&gt; encourage to use CC GitHub or SO if the problem is interesting and useful for others

Explain what is each of them, e.g. Stack Overflow ‚Äì the largest Q&amp;A site for programmers

There are others Stack Exchange sites (e.g. Cross-validated for stats)

---
## Step 3: .blue2[Asking for Help]
### Where to go

&lt;table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Programming &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Methods &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Domain-specific &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Tools/
software &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Infrastructure/
hardware &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; General &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; Google &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; StackOverflow* &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ~ &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úó &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úó &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úó &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; Code Club &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ~ &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ~ &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; Real Person &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
   &lt;td style="text-align:center;max-width: 3em; "&gt; ‚úì &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

.footnote[*There are other non-programming related Q&amp;A communities e.g. [StackExchange](https://stackexchange.com/), [Biostars](https://www.biostars.org/)]

---
background-image: url(StackExchange.png)
background-size: contain

???
explain that other StackExchange sites exists

---
## Step 3: .blue2[Asking for Help]

#### Examples of search terms / questions

.left-column[
  &lt;img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png" height="60px" /&gt;
  
  &lt;img src="CodeClub_ver2_darkblue.png" width="160px" height="80px" /&gt;
  
  &lt;img src="https://cdn.sstatic.net/Sites/stackoverflow/company/img/logos/so/so-logo.svg?v=a010291124bf" height="70px" /&gt;
  
  ### &amp;#x1F468;&amp;#x200D;&amp;#x1F4BB; &amp;#x1F469;&amp;#x200D;&amp;#x1F4BB; &amp;#x1F468;&amp;#x200D;&amp;#x1F4BB; &amp;#x1F469;&amp;#x200D;&amp;#x1F4BB;
]
  

.right-column[
  ggplot hjust vjust
  
  &lt;br/&gt;
  ggplot in R ‚Äì explanation of hjust and vjust
  
  &lt;br/&gt;
  
  [What do hjust and vjust do when making a plot using ggplot?](https://stackoverflow.com/questions/7263849/)
  
  &lt;br/&gt;
  
  When using ggplot in R, what do hjust and vjust do? How do they work?
]

???
The order of where you go depends on your specific case.

After defining the question ‚Äì have you form / word it 



Google ‚Äì really short phrase, with the most specific keywords

Person ‚Äì use terminology you know they are familiar with, e.g. can talk about locf, there are of expertise 

CC GitHub ‚Äì code-related, think someone in IHI has knowledge of or can benefit from knowing about, slightly more health-specific/application based, or specific tools to IHI e.g. DSH or CALIBERcodelists. More beginner friendly than StackOverflow as it's internal, but StackOverflow has more members and more / wider coding expertise

StackOverflow ‚Äì for coding/programming related problems, emphasis on the programming/tools (not on hardware, or on health), lots of questions/info on there already, being able to search for the right thing (on Google, which can point you here, or StackOverflow) can take you to lots of relevant questions. Will see lots of different answers/comments and upvotes/accepted answers to see the best/most approved ones. Quite updated, although some questions can be old/feature old tech/packages and some questions don't have answers. In some cases you'll have to post your own question.
pp
---
class: center, middle, inverse
## .shadow[What should Patricia do? &amp;#x1F937;]

### .shadow[.blue3[Have a 3-min discussion üôÇ]]

???
Ask the audience

Give time to google, put suggestion/answers here?
---
background-image: url(epic_handshake.png)
background-size: contain

???
GI and SO for code-related problems, however you should use them slightly differently


Similar:

for code-related problems


Different:

CC GitHub Issues more beginner-friendly

more appropriate to mention about domain-specific content e.g. I'm doing GWAS... I'm using data from the UK Biobank   - helpful to know ‚Äì but in Stack Overflow must describe the problem purely from a programming/tools perspective

CC GitHub Issues, can talk about specific infrastructure as well, e.g. CS Cluster, can talk about hardware e.g. GPU usage ‚Äì however in the future we'll have separate repos for e.g. DSH so might be more relevant to use their Issues page

Tags and labels ‚Äì two ways of categorising your problems and making them seen by relevant people



GitHub theory ‚Äì minimum guide

StackOverflow theory ‚Äì minimum guide

Differences between them and when to use

---
## Step 3: .blue2[Asking for Help]

### How to present the question

--

+ Each place of help requires **.red[different phrasing]** and **.red[different amounts of details]**

+ GitHub Issues and Stack Overflow **.red[require]** problems to be presented in a certain way

+ By following the **.red[recommendations]** you are more likely to get help

+ This will make it **.red[easier and quicker]** for others to understand your problem and offer their solutions 

+ Useful and nice for **.red[documenting]** solutions for future use 

&lt;br/&gt;
_NB ‚Äì forming a good coding question is different to writing a paper or posting on Slack!_

---
### How do I ask a good question on StackOverflow?

+ Search, and research

+ Write a title that summarizes the specific problem

+ Introduce the problem before you post any code

+ Help others reproduce the problem

+ Include all relevant tags

+ Proof-read before posting!

+ Post the question and respond to feedback

+ Look for help asking for help

.footnote[From [https://stackoverflow.com/help/how-to-ask]()]

???


GitHub theory ‚Äì minimum guide

StackOverflow theory ‚Äì minimum guide

Differences between them and when to use



Search and research

Check your question hasn't already been answered ‚Äì search using different phrases, keep a track of what you searched and what you tried



Choose a clear title

The 'core' / main coding problem - Include language choice, specific library/package, tools

e.g. How do I install pip on Windows?   fatal error: Python.h: No such file or directory

Imagine you're talking to a busy colleague and can only say one sentence



Introduce the problem

Expand on the title. Explain how you found the problem - what did you do, what did you find. Also include - what did you try and what do you want. Be engaging and succinct. Include necessary details, e.g. version of R used



Include a minimal reproduceable example

A code snippet or (working) code example with the bare minimum for others to try 

Don't include real/sensitive data ‚Äì simplify e.g. the data and variable names, remove unnecessary detail and comments

Include expected and observed outputs, e.g. error message



Add relevant tags

Will appear on the relevant sections of Stack Overflow and helps reach the right audience


Proof-read

Check it makes sense, describes your problem well, and uses correct spelling and grammar


Be ready to reply 

You might need to respond to comments/answers ‚Äì the sooner you rectify queries/engage, the happier and more engaged your helpers should be

---
## Example question for StackOverflow

.pull-left[
![](so_screenshot.png)
]

.pull-right[
+ Include .red[language choice, specific library/package, tools]
  _e.g._ [How do I install pip on Windows?](https://stackoverflow.com/questions/4750806/),
  [fatal error: Python.h: No such file or directory](https://stackoverflow.com/questions/21530577/)
  
  imagine you're talking to a busy colleague and can only say .red[one sentence]

+ *.red[Don't]* .red[ include sensitive data]
  
  simplify e.g. the data and variable names, remove unnecessary detail and comments
    
+ Include .red[necessary details], e.g. version of R used

+ Include .red[relevant tags]

]

---
.pull-left[
## Examples

  &lt;img src="badQ.png" width="2003" /&gt;
  .small[[https://stackoverflow.com/questions/25358908/]()]

]

.pull-right[
## &amp;nbsp;

  &lt;img src="goodQ.png" width="2016" /&gt;
  .small[[https://stackoverflow.com/questions/2564258/]()]
  
  &lt;br/&gt;
  .red[
  Which one is good and which is not so good?

  Why?
  ]
]

---
## Examples
![](bad_good.png)

---
### Example question for Code Club GitHub Issues
.pull-left[
![](gi_screenshot.png)
]

.pull-right[
+ Include .red[language choice, specific tool, application]
  e.g. _How do I SSH into Data Safe Haven?_, _Error parsing CPRD_
  
+ Include simple .red[code snippet] if needed

+ *.red[Don't]* .red[ include sensitive data]
  
  e.g. health record data, file location of super-secret data 
    
+ Include .red[relevant labels]

]

???
Same as SO, except use labels instead of tags and the description can be more domain or tool specific e.g.

Bc the audience is different

Layout example



Very similar to SO question, but a bit less confined to just code





GitHub theory ‚Äì minimum guide

StackOverflow theory ‚Äì minimum guide

Differences between them and when to use





Search and research

Again, check your question hasn't already been answered. Perhaps have a go at researching (anywhere) for answers, keep a track of what you searched and what you tried



Choose a clear title

The 'core' problem/query - Include language choice, specific tool, the application 

e.g. How do I SSH into Data Safe Haven?   Error parsing CPRD 



Introduce the problem

Expand on the title. Explain how you found the problem - what did you do, what did you find. AND/OR what did you try, what do you want to know / obtain as an outcome. Be engaging and succinct.



Include a minimal reproduceable example

A code snippet or minimal (working) code example for others to try ‚Äì if needed

Don't include real/sensitive data ‚Äì e.g. health record data, file location of super-secret data - simplify 



Add relevant labels

Categorize your issues. Helps with organization and for members to easily identify what your issue will be about 



Proof-read&amp;Be ready to reply 

---
class: center, middle, inverse

## .shadow[.blue2[GitHub Issue Practical]]

#### Time: 20 mins ‚è≥

&lt;br/&gt;
### .blue3[Can you help Patricia to create a GitHub Issue?]
.blue2[If you have your own code-related problem, try creating an Issue for that instead]

&lt;br/&gt;
#### Post your Issue to: [https://github.com/ucl-ihi/Practicals/issues]()

---
class: center, middle, inverse

## .shadow[.blue2[StackOverflow Practical]]

#### Time: 10 mins ‚è≥

&lt;br/&gt;
### .blue3[What would you change to make your previous Issue a Stack Overflow question?]


&lt;br/&gt;
.blue2[[hint]] think about _the title, the description, input/output, examples, the tags, what you tried_

---
### What Patricia could write on StackOverflow

.pull-left[
#### Quickly replacing NAs in a group with the latest non-NA within a time window 

**Tags:** *r, data.table, zoo*

.small[In a _data.frame_ (or _data.table_) I have three columns: a group ID, a measurement date, and a measurement value (which can be NA). I would like to "fill forward" NAs in the measurement values with the closest previous non-NA value within the same group. However, I only want to do so if the closest non-NA was taken less than 4 days before.

I have found a preliminary solution using _zoo_, but the function takes multiple hours when applied to my dataset (&gt;1 million rows) as shown below:]
]

.pull-right[
.scroll-box-18[

```r
library(tibble)
library(lubridate)
library(zoo)

locf_4_days &lt;- function(x, by, date){
  # Perform last observation carried forward (LOCF) based on the time difference
  # to the last measured observation. Allow for stratification by identifier
  # (e.g.patient ID)
  # Parameters
  # x : character or numeric
  #    vector of measurements on which to perform LOCF
  # by : character or numeric 
  #   vector indicating the group to stratify by
  # date : datetime
  #   vector of times at which the value in 'x' was attempted to be measured.

  placeholder &lt;- -Inf

  x &lt;- ifelse(is.na(x) &amp; by != lag(by), placeholder, x)
  date_measure &lt;- as_date(ifelse(!is.na(x), date, NA))
  date_measure &lt;- zoo::na.locf(date_measure)
  n_measure &lt;- unlist(tapply(!is.na(x), by, cumsum))
  date_measure &lt;- as_date(ifelse(n_measure != 0, date_measure, NA))

  x &lt;- ifelse(is.na(x) &amp; !is.na(date_measure) &amp;
              time_length(lag(date_measure) %--% date, unit = "days") &lt; 4,
              zoo::na.locf(x, na.rm = FALSE), x)
  x[x == placeholder] &lt;- NA
  x
}

test_locf &lt;- tribble(
    ~id, ~start_date, ~value,
    1, ymd("2010-01-05"), 5,
    1, ymd("2010-01-06"), NA,
    1, ymd("2010-01-12"), NA,
    1, ymd("2010-01-13"), 10,
    2, ymd("2010-01-10"), NA,
    2, ymd("2010-01-12"), 2,
    2, ymd("2010-01-15"), NA,
    2, ymd("2010-01-16"), NA
)

with(test_locf, locf_4_days(value, start_date, by = id))

c(5, 5,NA, 10, NA, 2, 2, NA)
```
]
  .small[
  A similar question was asked [here](https://stackoverflow.com/questions/7735647/), but it does not account for the time window.
  Is there a faster way to implement this function?
  ]
]

---
### What Patricia could write on Code Club GitHub Issue
+ Labels instead of tags

+ Can mention _last observation carried forward_ imputation (domain and method-specific)

+ Can mention use of _R_ programming language (if not labelled)

---
### DOs üëå and DON'Ts üôÖ

+ **.green[DO]** search and research before asking

+ **.green[DO]**  answer your own question!

+ **.green[DO]**  share something cool (on Code Club GitHub), even if it's not a question

+ **.green[DO]**  choose an Accepted Answer (Stack Overflow) or Upvote / Close Issue (Code Club GitHub)

+ **.green[DO]**  engage and be nice

+ **.green[DO]**  proof-read (and edit as needed)

+ **.red[DON'T]** be apologetic

???

It's okay to answer your own question! If you do, reply to your question/Issue with your solution / how you found it / what it does ‚Äì you will help others

Want to share something cool? Post and answer with what you found

If you've found the one you've been looking for ‚Äì choose it as your Accepted Answer (Stack Overflow) or Upvote or Close Issue (GitHub Issues) - once it's closed, people can no longer add their comments, so you may want to keep it open for a while or reopen an Issue

Be engaging ‚Äì reply to comments, write down your findings from others' solutions - be nice, no need to be apologetic

Proof-read - You can always edit your question
---
class: inverse
# .shadow[.blue3[Summary]]

&lt;br/&gt;

--

### Communicate your problem well 

--

### Create a good question

--

### Receive better help

---
class: inverse
## .blue3[Resources]

+  [Code Club GitHub Issues Guidelines](https://ucl-ihi.github.io/CodeClub/how_to_guides/upload_problem)

+ [Stack Overflow Guidelines for Asking]( https://stackoverflow.com/help/asking)

+ [Stack Overflow Question Checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/)

+ [How to make a great R reproducible example](https://stackoverflow.com/questions/5963269/)

+ [How to ask a good question for software recommendations](https://softwarerecs.meta.stackexchange.com/questions/336/what-is-required-for-a-question-to-contain-enough-information)

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;
#### This presentation was created using [xaringan](https://github.com/yihui/xaringan) package in R

---
background-image: url(FB_wide_5sept.png)
background-size: contain
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
